{"ast":null,"code":"import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"container mt-5\"\n};\nconst _hoisted_2 = {\n  class: \"table\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"ID\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"E-mail\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Kullanıcı Tipi\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"İşlemler\")])], -1 /* HOISTED */);\nconst _hoisted_4 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.users ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n    placeholder: \"Ara...\",\n    class: \"form-control mb-3\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.searchQuery]]), _createElementVNode(\"table\", _hoisted_2, [_hoisted_3, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredUsers, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(user.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.email), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.type), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-danger\",\n      onClick: $event => $options.deleteUser(user.id)\n    }, \"Sil\", 8 /* PROPS */, _hoisted_4)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["key","class","_createElementVNode","$data","users","_createElementBlock","_hoisted_1","type","_cache","$event","searchQuery","placeholder","_hoisted_2","_hoisted_3","_Fragment","_renderList","$options","filteredUsers","user","id","_toDisplayString","email","onClick","deleteUser","_hoisted_4","_createCommentVNode"],"sources":["C:\\Users\\Furkan\\Desktop\\Niso proje Kariyer-App\\kariyer-app-vue\\src\\components\\AdminAndComponents\\UserList.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-5\" v-if=\"users\">\r\n    <input \r\n      type=\"text\" \r\n      v-model=\"searchQuery\" \r\n      placeholder=\"Ara...\" \r\n      class=\"form-control mb-3\"\r\n    />\r\n\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th>ID</th>\r\n          <th>E-mail</th>\r\n          <th>Kullanıcı Tipi</th>\r\n          <th>İşlemler</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr \r\n          v-for=\"user in filteredUsers\" \r\n          :key=\"user.id\"\r\n        >\r\n          <td>{{ user.id }}</td>\r\n          <td>{{ user.email }}</td>\r\n          <td>{{ user.type }}</td>\r\n          <td>\r\n            <button class=\"btn btn-danger\" @click=\"deleteUser(user.id)\">Sil</button></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>  \r\n</template>\r\n\r\n  \r\n\r\n<script>\r\nimport Navbar from '../Navbar.vue';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  components:{\r\n    Navbar\r\n  },\r\n    data(){\r\n        return{\r\n            searchQuery: '',\r\n            users:[],\r\n        }\r\n    },\r\n    created(){\r\n        axios.get(`http://localhost:7190/get/GetUsers`)\r\n        .then(res => {\r\n            this.users = res.data;\r\n            console.log(this.users);\r\n        })\r\n        .catch(err => {\r\n            console.error('Error fetching adverts:', err);\r\n        });\r\n    },\r\n    methods:{\r\n      notifyPython() {\r\n        axios.post('http://localhost:5000/api/trigger')\r\n          .then(() => {\r\n            this.notifyPython();\r\n            console.log(\"Python servisi tetiklendi.\");\r\n          })\r\n          .catch(error => {\r\n            console.error(\"Python tetikleme hatası:\", error);\r\n          });\r\n      },\r\n      deleteUser(id){\r\n        axios.delete(`http://localhost:7190/user/${id}`)\r\n        this.notifyPython();\r\n        location.reload();\r\n      }\r\n    },\r\n    computed: {\r\n    filteredUsers() {\r\n      return this.users.filter(user => {\r\n        const searchLower = this.searchQuery.toLowerCase();\r\n        return (\r\n          user.id.toString().includes(searchLower) ||\r\n          user.email.toLowerCase().includes(searchLower) ||\r\n          user.type.toLowerCase().includes(searchLower)\r\n        );\r\n      });\r\n    },\r\n  },\r\n}\r\n\r\n</script>"],"mappings":";;EAAAA,GAAA;EACOC,KAAK,EAAC;;;EAQFA,KAAK,EAAC;AAAO;gCAClBC,mBAAA,CAOQ,gB,aANNA,mBAAA,CAKK,a,aAJHA,mBAAA,CAAW,YAAP,IAAE,G,aACNA,mBAAA,CAAe,YAAX,QAAM,G,aACVA,mBAAA,CAAuB,YAAnB,gBAAc,G,aAClBA,mBAAA,CAAiB,YAAb,UAAQ,E;mBAftB;;SACoCC,KAAA,CAAAC,KAAK,I,cAAvCC,mBAAA,CA8BM,OA9BNC,UA8BM,G,gBA7BJJ,mBAAA,CAKE;IAJAK,IAAI,EAAC,MAAM;IAHjB,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAIeN,KAAA,CAAAO,WAAW,GAAAD,MAAA;IACpBE,WAAW,EAAC,QAAQ;IACpBV,KAAK,EAAC;iDAFGE,KAAA,CAAAO,WAAW,E,GAKtBR,mBAAA,CAqBQ,SArBRU,UAqBQ,GApBNC,UAOQ,EACRX,mBAAA,CAWQ,iB,kBAVNG,mBAAA,CASKS,SAAA,QA5BbC,WAAA,CAoByBC,QAAA,CAAAC,aAAa,EAArBC,IAAI;yBADbb,mBAAA,CASK;MAPFL,GAAG,EAAEkB,IAAI,CAACC;QAEXjB,mBAAA,CAAsB,YAAAkB,gBAAA,CAAfF,IAAI,CAACC,EAAE,kBACdjB,mBAAA,CAAyB,YAAAkB,gBAAA,CAAlBF,IAAI,CAACG,KAAK,kBACjBnB,mBAAA,CAAwB,YAAAkB,gBAAA,CAAjBF,IAAI,CAACX,IAAI,kBAChBL,mBAAA,CAC+E,aAA7EA,mBAAA,CAAwE;MAAhED,KAAK,EAAC,gBAAgB;MAAEqB,OAAK,EAAAb,MAAA,IAAEO,QAAA,CAAAO,UAAU,CAACL,IAAI,CAACC,EAAE;OAAG,KAAG,iBA3B3EK,UAAA,E;0CAAAC,mBAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}